# Cascade Context - FindMeAppCTLTest

## Project Purpose
UI testing project for Apple's built-in **FindMy** app on iOS using XCTest framework.

## Key Information
- **Bundle ID**: `com.apple.findmy` (system FindMy app)
- **Test Framework**: XCTest with XCUITest
- **Pattern**: Page Object design pattern
- **Auto-sync**: Files automatically included via PBXFileSystemSynchronizedRootGroup

## Project Structure

### Test Infrastructure
- **TestContext.swift** - Singleton for managing test context, app instance, and shared data
- **PageObjects/BasePage.swift** - Base class with common UI interaction methods
- **PageObjects/FindMyMainPage.swift** - Example page object for FindMy main screen

### Test Files
- **FindMeAppCTLTestUITests.swift** - Main UI test cases
- **FindMeAppCTLTestUITestsLaunchTests.swift** - Launch and screenshot tests

### Documentation
- **QUICK_START.md** - Quick reference guide
- **PROJECT_SETUP.md** - Detailed setup and build information
- **README.md** - Main test documentation
- **RESOURCES.md** - XCTest framework resources
- **PageObjects/README.md** - Page Object pattern guide

### Build Tools
- **Makefile** - Convenient build and test commands
- **verify_setup.sh** - Setup verification script
- **project.yml** - Optional XcodeGen configuration

## Quick Commands

```bash
make help              # Show all commands
make verify            # Verify setup
make build             # Build project
make test-ui           # Run UI tests
make clean             # Clean build
make open              # Open in Xcode
```

## Design Patterns

### TestContext Singleton
```swift
TestContext.shared.launchFindMyApp()
let app = TestContext.shared.getFindMyApp()
```

### Page Object Pattern
```swift
let mainPage = FindMyMainPage(app: app)
mainPage.verifyMainPageIsDisplayed()
mainPage.navigateToDevicesTab()
```

## Important Notes

1. **Automatic File Discovery**: New `.swift` files in target folders are automatically included
2. **No Manual Add**: Don't need to manually add files to Xcode project
3. **SourceKit Errors**: "No such module 'XCTest'" errors are temporary IDE issues, files compile correctly
4. **System App Testing**: Tests interact with the system FindMy app, not a custom app

## Future Development

### Planned Page Objects
- DevicesListPage - Devices tab content
- ItemsListPage - Items tab content
- MeProfilePage - Me/Profile tab
- DeviceDetailPage - Individual device details
- MapPage - Map view interactions
- SearchPage - Search functionality

### Test Areas
- Tab navigation
- Device/Item listing
- Map interactions
- Search functionality
- Notifications
- Settings

## Resources

- XCTest Documentation: https://developer.apple.com/documentation/xctest
- TestContext: Manages app instance, test data, screenshots, metadata
- BasePage: Provides element queries, waits, actions, verifications, screenshots

## Session Memory

Remember for future sessions:
- Focus is on testing Apple's FindMy app, not building one
- Use TestContext singleton for all app management
- Use Page Object pattern for all UI interactions
- Files are automatically included (no manual project file updates needed)
- All test infrastructure is in FindMeAppCTLTestUITests folder
